[
  {
    "id": "swiftdata_001",
    "title": "Grundlagen von SwiftData",
    "description": "Lerne, wie du ein einfaches SwiftData-Modell erstellst, speicherst und in SwiftUI anzeigst.",
    "steps": [
      "Importiere SwiftData.",
      "Definiere ein @Model mit Properties.",
      "Speichere und lade Daten mit ModelContext und @Query."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#7209B7", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Note {\n    var title: String\n    var createdAt: Date\n    init(title: String, createdAt: Date = .now) {\n        self.title = title\n        self.createdAt = createdAt\n    }\n}\n\n@main\nstruct SwiftDataApp: App {\n    var body: some Scene {\n        WindowGroup {\n            NotesView()\n        }\n        .modelContainer(for: Note.self)\n    }\n}\n\nstruct NotesView: View {\n    @Environment(\\.modelContext) private var context\n    @Query private var notes: [Note]\n    @State private var title = \"\"\n\n    var body: some View {\n        NavigationStack {\n            VStack(spacing: 16) {\n                TextField(\"Titel eingeben\", text: $title)\n                    .textFieldStyle(.roundedBorder)\n\n                Button(\"Speichern\") {\n                    let new = Note(title: title)\n                    context.insert(new)\n                    try? context.save()\n                    title = \"\"\n                }\n                .buttonStyle(.borderedProminent)\n\n                List(notes) { note in\n                    Text(note.title)\n                }\n            }\n            .padding()\n            .navigationTitle(\"SwiftData Notizen\")\n        }\n    }\n}\n\n#Preview { NotesView() }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#0000FF"
  },
  {
    "id": "swiftdata_002",
    "title": "Beziehungen in SwiftData (One-to-Many)",
    "description": "Erstelle Datenmodelle mit Beziehungen – z. B. ein Projekt mit mehreren Aufgaben.",
    "steps": [
      "Definiere zwei @Model-Klassen mit Relationship.",
      "Nutze .cascade für automatisches Löschen.",
      "Zeige verknüpfte Objekte mit @Query an."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#560BAD", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Project {\n    var name: String\n    @Relationship(deleteRule: .cascade) var tasks: [TaskItem] = []\n    init(name: String) { self.name = name }\n}\n\n@Model\nclass TaskItem {\n    var title: String\n    var isDone: Bool = false\n    init(title: String) { self.title = title }\n}\n\nstruct ProjectListView: View {\n    @Environment(\\.modelContext) private var context\n    @Query private var projects: [Project]\n    @State private var newProject = \"\"\n\n    var body: some View {\n        NavigationStack {\n            VStack(spacing: 16) {\n                TextField(\"Projektname\", text: $newProject)\n                    .textFieldStyle(.roundedBorder)\n\n                Button(\"Projekt hinzufügen\") {\n                    let project = Project(name: newProject)\n                    context.insert(project)\n                    try? context.save()\n                    newProject = \"\"\n                }\n                .buttonStyle(.borderedProminent)\n\n                List(projects) { project in\n                    NavigationLink(destination: TaskListView(project: project)) {\n                        Text(project.name)\n                    }\n                }\n            }\n            .padding()\n            .navigationTitle(\"Projekte\")\n        }\n    }\n}\n\nstruct TaskListView: View {\n    @Environment(\\.modelContext) private var context\n    @Bindable var project: Project\n    @State private var newTask = \"\"\n\n    var body: some View {\n        VStack(spacing: 16) {\n            TextField(\"Neue Aufgabe\", text: $newTask)\n                .textFieldStyle(.roundedBorder)\n\n            Button(\"Hinzufügen\") {\n                let task = TaskItem(title: newTask)\n                project.tasks.append(task)\n                try? context.save()\n                newTask = \"\"\n            }\n            .buttonStyle(.borderedProminent)\n\n            List(project.tasks) { task in\n                HStack {\n                    Text(task.title)\n                    Spacer()\n                    Image(systemName: task.isDone ? \"checkmark.circle.fill\" : \"circle\")\n                        .onTapGesture {\n                            task.isDone.toggle()\n                            try? context.save()\n                        }\n                }\n            }\n        }\n        .padding()\n        .navigationTitle(project.name)\n    }\n}\n\n#Preview { ProjectListView() }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#0000FF"
  },
  {
    "id": "swiftdata_003",
    "title": "Filter & Sortierung mit @Query",
    "description": "Filtere und sortiere Daten direkt mit @Query – ganz ohne Core Data Predicate Syntax.",
    "steps": [
      "Verwende @Query mit einem SortDescriptor.",
      "Nutze Predicate zur Filterung.",
      "Ändere Filterbedingungen dynamisch."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#B5179E", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Expense {\n    var title: String\n    var amount: Double\n    var date: Date\n    init(title: String, amount: Double, date: Date = .now) {\n        self.title = title\n        self.amount = amount\n        self.date = date\n    }\n}\n\nstruct FilteredListView: View {\n    @Environment(\\.modelContext) private var context\n    @Query(sort: [SortDescriptor(\\.amount, order: .reverse)], predicate: #Predicate { $0.amount > 50 }) private var expenses: [Expense]\n    @State private var title = \"\"\n    @State private var amount = \"\"\n\n    var body: some View {\n        VStack(spacing: 16) {\n            TextField(\"Titel\", text: $title)\n                .textFieldStyle(.roundedBorder)\n            TextField(\"Betrag\", text: $amount)\n                .keyboardType(.decimalPad)\n                .textFieldStyle(.roundedBorder)\n\n            Button(\"Speichern\") {\n                if let value = Double(amount) {\n                    let expense = Expense(title: title, amount: value)\n                    context.insert(expense)\n                    try? context.save()\n                    title = \"\"\n                    amount = \"\"\n                }\n            }\n            .buttonStyle(.borderedProminent)\n\n            List(expenses) { expense in\n                HStack {\n                    VStack(alignment: .leading) {\n                        Text(expense.title)\n                            .font(.headline)\n                        Text(expense.date, style: .date)\n                            .font(.caption)\n                            .foregroundColor(.gray)\n                    }\n                    Spacer()\n                    Text(String(format: \"%.2f €\", expense.amount))\n                        .bold()\n                }\n            }\n        }\n        .padding()\n        .navigationTitle(\"Ausgaben > 50€\")\n    }\n}\n\n#Preview { FilteredListView() }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#0000FF"
  },
  {
    "id": "swiftdata_004",
    "title": "Many-to-Many Beziehungen",
    "description": "Lerne, wie du Modelle erstellst, bei denen mehrere Elemente gegenseitig miteinander verknüpft sind.",
    "steps": [
      "Definiere zwei @Model-Typen.",
      "Nutze @Relationship für many-to-many.",
      "Verlinke Objekte in beide Richtungen."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#3A0CA3", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Student {\n    var name: String\n    @Relationship var courses: [Course] = []\n    init(name: String) { self.name = name }\n}\n\n@Model\nclass Course {\n    var title: String\n    @Relationship var students: [Student] = []\n    init(title: String) { self.title = title }\n}\n\nstruct CourseView: View {\n    @Environment(\\.modelContext) private var context\n    @Query private var courses: [Course]\n\n    var body: some View {\n        List(courses) { course in\n            Text(course.title)\n        }\n    }\n}\n\n#Preview { CourseView() }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#4361EE"
  },
  {
    "id": "swiftdata_005",
    "title": "Modelle aktualisieren",
    "description": "Verstehe, wie du gespeicherte SwiftData-Objekte bearbeitest und speicherst.",
    "steps": [
      "Lade bestehende Objekte per @Query.",
      "Bearbeite Properties direkt.",
      "Speichere Änderungen mit context.save()."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#4CC9F0", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Counter {\n    var value: Int = 0\n}\n\nstruct CounterView: View {\n    @Environment(\\.modelContext) private var context\n    @Query private var counters: [Counter]\n\n    var body: some View {\n        VStack(spacing: 20) {\n            if let c = counters.first {\n                Text(\"Wert: \\(c.value)\")\n                    .font(.largeTitle)\n\n                Button(\"+1\") {\n                    c.value += 1\n                    try? context.save()\n                }\n                .buttonStyle(.borderedProminent)\n            }\n        }\n        .padding()\n    }\n}\n\n#Preview { CounterView().modelContainer(for: Counter.self) }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#4CC9F0"
  },
  {
    "id": "swiftdata_006",
    "title": "Objekte löschen",
    "description": "Lerne, wie du gespeicherte SwiftData-Objekte sicher entfernst.",
    "steps": [
      "Lade Objekte per @Query.",
      "Lösche Elemente mit context.delete().",
      "Speichere den Zustand."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#7209B7", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Todo {\n    var text: String\n    init(text: String) { self.text = text }\n}\n\nstruct TodoListView: View {\n    @Environment(\\.modelContext) private var context\n    @Query private var todos: [Todo]\n\n    var body: some View {\n        List {\n            ForEach(todos) { todo in\n                Text(todo.text)\n            }\n            .onDelete { indexSet in\n                indexSet.forEach { i in\n                    context.delete(todos[i])\n                }\n                try? context.save()\n            }\n        }\n    }\n}\n\n#Preview { TodoListView().modelContainer(for: Todo.self) }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#7209B7"
  },
  {
    "id": "swiftdata_007",
    "title": "Migrations (Model Schema Update)",
    "description": "Ändere Modelle sicher und erstelle automatische Migrationsprozesse.",
    "steps": [
      "Füge neue Properties hinzu.",
      "Nutze optionale Typen für Migration.",
      "SwiftData migriert automatisch."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#B5179E", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftData\n\n@Model\nclass Player {\n    var name: String\n    var level: Int\n    var xp: Int? // Neu: optional für Migration\n    init(name: String, level: Int, xp: Int? = nil) {\n        self.name = name\n        self.level = level\n        self.xp = xp\n    }\n}",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#B5179E"
  },
  {
    "id": "swiftdata_008",
    "title": "Performance & Batch Inserts",
    "description": "Füge viele Daten effizient ein – ideal für Listen, Tabellen oder Tests.",
    "steps": [
      "Verwende eine Schleife für viele Inserts.",
      "Nutze context.save() nur am Ende.",
      "Ideal für große Datenmengen."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#F72585", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass LogEntry { var value: Int }\n\nstruct BatchInsertView: View {\n    @Environment(\\.modelContext) private var context\n\n    var body: some View {\n        Button(\"1000 Items erzeugen\") {\n            for i in 0..<1000 {\n                context.insert(LogEntry(value: i))\n            }\n            try? context.save()\n        }\n        .buttonStyle(.borderedProminent)\n    }\n}\n\n#Preview { BatchInsertView().modelContainer(for: LogEntry.self) }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#F72585"
  },
  {
    "id": "swiftdata_009",
    "title": "@Bindable nutzen",
    "description": "Bearbeite Model-Werte live im UI – ohne extra States.",
    "steps": [
      "Nutze @Bindable für Modelbinding.",
      "Bearbeite Felder direkt im UI.",
      "Speichere automatisch Änderungen."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#560BAD", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Profile { var username: String }\n\nstruct ProfileView: View {\n    @Environment(\\.modelContext) private var context\n    @Bindable var profile: Profile\n\n    var body: some View {\n        Form {\n            TextField(\"Username\", text: $profile.username)\n        }\n    }\n}\n\n#Preview {\n    let profile = Profile(username: \"Tufan\")\n    return ProfileView(profile: profile)\n        .modelContainer(for: Profile.self)\n}",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#560BAD"
  },
  {
    "id": "swiftdata_010",
    "title": "Predicates dynamisch ändern",
    "description": "Nutze State, um Filter live anzupassen und neue @Query-Abfragen zu erzeugen.",
    "steps": [
      "Erstelle einen @State Filterwert.",
      "Nutze @Query mit dynamischem Predicate.",
      "Reagiere auf Eingaben sofort."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#3F37C9", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Product { var name: String }\n\nstruct ProductFilterView: View {\n    @State private var search = \"\"\n    @Environment(\\.modelContext) private var context\n    @Query private var products: [Product]\n\n    init(search: String = \"\") {\n        self._search = State(initialValue: search)\n        self.__products = Query(filter: #Predicate { item in\n            search.isEmpty || item.name.contains(search)\n        })\n    }\n\n    var body: some View {\n        VStack {\n            TextField(\"Suche\", text: $search)\n                .textFieldStyle(.roundedBorder)\n            List(products) { p in Text(p.name) }\n        }\n        .padding()\n    }\n}\n\n#Preview { ProductFilterView().modelContainer(for: Product.self) }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#3F37C9"
  },
  {
    "id": "swiftdata_011",
    "title": "ModelContainer im Preview nutzen",
    "description": "Erstelle realistische Previews mit Beispiel-Daten.",
    "steps": [
      "Nutze .modelContainer(for:) im Preview.",
      "Erzeuge Testdaten direkt im Preview.",
      "Mach Views reproduzierbar und testbar."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#4895EF", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Person { var name: String }\n\nstruct PeopleView: View {\n    @Query private var people: [Person]\n    var body: some View {\n        List(people) { p in Text(p.name) }\n    }\n}\n\n#Preview {\n    let config = ModelConfiguration(isStoredInMemoryOnly: true)\n    let container = try! ModelContainer(for: Person.self, configurations: config)\n    let context = container.mainContext\n    context.insert(Person(name: \"Tufan\"))\n    context.insert(Person(name: \"Alex\"))\n\n    return PeopleView()\n        .modelContainer(container)\n}",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#4895EF"
  },
  {
    "id": "swiftdata_012",
    "title": "Undo & Redo",
    "description": "Nutze das Undo-System von SwiftData für komfortable History-Features.",
    "steps": [
      "Greife auf context.undoManager zu.",
      "Nutze undo() und redo().",
      "Perfekt für Editoren oder kreative Apps."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#4CC9F0", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass Counter { var value = 0 }\n\nstruct UndoExampleView: View {\n    @Environment(\\.modelContext) private var context\n    @Query private var counters: [Counter]\n    var body: some View {\n        VStack(spacing: 20) {\n            let c = counters.first ?? Counter()\n            Text(\"Wert: \\(c.value)\")\n                .font(.title)\n\n            HStack {\n                Button(\"+1\") {\n                    c.value += 1\n                    try? context.save()\n                }\n                Button(\"Undo\") { context.undoManager?.undo() }\n                Button(\"Redo\") { context.undoManager?.redo() }\n            }\n        }\n        .padding()\n    }\n}\n\n#Preview { UndoExampleView().modelContainer(for: Counter.self) }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#4CC9F0"
  },
  {
    "id": "swiftdata_013",
    "title": "Hintergrund-Speicherungen",
    "description": "Verarbeite Daten im Hintergrund – ideal für große Datenimporte.",
    "steps": [
      "Nutze Task für Hintergrundarbeit.",
      "Verwende context.insert() in async Block.",
      "Speichere nur am Ende."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#560BAD", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport SwiftData\n\n@Model\nclass LogEntry { var text: String }\n\nstruct BackgroundInsertView: View {\n    @Environment(\\.modelContext) private var context\n\n    var body: some View {\n        Button(\"Import starten\") {\n            Task {\n                for i in 0..<500 {\n                    context.insert(LogEntry(text: \"Eintrag #\\(i)\"))\n                }\n                try? context.save()\n            }\n        }\n        .buttonStyle(.borderedProminent)\n        .padding()\n    }\n}\n\n#Preview { BackgroundInsertView().modelContainer(for: LogEntry.self) }",
    "category": "SwiftData",
    "categoryIcon": "swiftdata",
    "categoryIconColor": "#560BAD"
  }
]
