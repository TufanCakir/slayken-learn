[
  {
    "id": "json_001",
    "title": "JSON Escapen",
    "description": "Lerne, wie du Code-Snippets sicher in JSON-Strings umwandelst (escapest), damit sie korrekt gespeichert und verarbeitet werden kÃ¶nnen.",
    "steps": [
      "Erstelle ein Beispiel-Code-Snippet, z. B. in Swift oder HTML.",
      "FÃ¼ge es in das JSON Escape Studio ein.",
      "WÃ¤hle den Modus 'Escape â†’ JSON', um den Code automatisch zu formatieren."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#FF6D2D", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\n\nstruct JSONEscapeStudioView: View {\n    @State private var outputText: String = \"\"\n    @State private var isUnescapeMode = false\n    @State private var showCopied = false\n    @State private var showPasted = false\n    @FocusState private var isEditorFocused: Bool\n    \n    @Environment(\\.colorScheme) private var colorScheme\n    \n    var body: some View {\n        NavigationStack {\n            VStack(spacing: 22) {\n                \n                // ðŸ”˜ Modus-Schalter + EinfÃ¼gen-Button\n                HStack(spacing: 12) {\n                    Picker(\"Modus\", selection: $isUnescapeMode) {\n                        Text(\"Escape â†’ JSON\").tag(false)\n                        Text(\"Unescape â†’ Klartext\").tag(true)\n                    }\n                    .pickerStyle(.segmented)\n                    \n                    Button {\n                        pasteInput()\n                    } label: {\n                        Label(\"EinfÃ¼gen\", systemImage: \"doc.on.clipboard.fill\")\n                            .font(.caption.bold())\n                            .padding(.horizontal, 10)\n                            .padding(.vertical, 6)\n                            .background(Color.blue.opacity(0.15))\n                            .cornerRadius(8)\n                    }\n                    .buttonStyle(.plain)\n                }\n                .padding(.horizontal)\n                .onChange(of: isUnescapeMode) { _, newValue in\n                    withAnimation(.easeInOut(duration: 0.25)) {\n                        outputText = newValue\n                            ? unescapeFromJSON(inputText)\n                            : escapeForJSON(inputText)\n                    }\n                }\n                \n                // ðŸŸ¢ Eingabe\n                VStack(alignment: .leading, spacing: 8) {\n                    Label(isUnescapeMode ? \"Escaped JSON eingeben\" : \"Original-Code\", systemImage: \"doc.text.fill\")\n                        .font(.headline)\n                        .foregroundStyle(.blue)\n                    \n                    ZStack(alignment: .topLeading) {\n                        if inputText.isEmpty {\n                            Text(\"Hier Code einfÃ¼gen oder schreiben â€¦\")\n                                .foregroundColor(.secondary)\n                                .padding(.horizontal, 16)\n                                .padding(.vertical, 14)\n                                .font(.system(.body, design: .monospaced))\n                        }\n                        \n                        TextEditor(text: $inputText)\n                            .focused($isEditorFocused)\n                            .font(.system(.body, design: .monospaced))\n                            .padding(10)\n                            .scrollContentBackground(.hidden)\n                            .background(\n                                RoundedRectangle(cornerRadius: 10)\n                                    .fill(Color.gray.opacity(0.15))\n                                    .overlay(\n                                        RoundedRectangle(cornerRadius: 10)\n                                            .stroke(isEditorFocused ? Color.blue : Color.blue.opacity(0.3),\n                                                    lineWidth: isEditorFocused ? 1.8 : 1.2)\n                                    )\n                            )\n                            .frame(minHeight: 180)\n                            .onChange(of: inputText) { _, newValue in\n                                outputText = isUnescapeMode\n                                    ? unescapeFromJSON(newValue)\n                                    : escapeForJSON(newValue)\n                            }\n                            .onTapGesture { isEditorFocused = true }\n                    }\n                }\n                .animation(.easeInOut(duration: 0.25), value: isEditorFocused)\n                \n                // ðŸ”µ Ausgabe\n                VStack(alignment: .leading, spacing: 8) {\n                    HStack {\n                        Label(isUnescapeMode ? \"Klartext\" : \"Escaped JSON\",\n                              systemImage: \"chevron.left.forwardslash.chevron.right\")\n                            .font(.headline)\n                            .foregroundStyle(.orange)\n                        \n                        Spacer()\n                        \n                        Button(action: copyOutput) {\n                            Label(\"Kopieren\", systemImage: \"doc.on.doc.fill\")\n                                .font(.caption.bold())\n                                .padding(.horizontal, 10)\n                                .padding(.vertical, 6)\n                                .background(Color.orange.opacity(0.15))\n                                .cornerRadius(8)\n                        }\n                        .buttonStyle(.plain)\n                    }\n                    \n                    ScrollView {\n                        Text(outputText.isEmpty ? \"// Ausgabe erscheint hier â€¦\" : outputText)\n                            .font(.system(.body, design: .monospaced))\n                            .foregroundColor(.white)\n                            .padding(12)\n                            .frame(maxWidth: .infinity, alignment: .leading)\n                            .background(\n                                LinearGradient(\n                                    colors: [Color.black, Color(hex: \"#1C1C1E\")],\n                                    startPoint: .topLeading,\n                                    endPoint: .bottomTrailing\n                                )\n                            )\n                            .cornerRadius(12)\n                            .shadow(color: .black.opacity(0.4), radius: 6, y: 3)\n                    }\n                    .frame(minHeight: 200)\n                    .overlay(alignment: .topTrailing) {\n                        VStack(alignment: .trailing, spacing: 4) {\n                            if showCopied {\n                                Label(\"Kopiert!\", systemImage: \"checkmark.circle.fill\")\n                                    .transition(.scale.combined(with: .opacity))\n                            }\n                            if showPasted {\n                                Label(\"EingefÃ¼gt!\", systemImage: \"arrow.down.doc.fill\")\n                                    .transition(.scale.combined(with: .opacity))\n                            }\n                        }\n                        .font(.caption.bold())\n                        .padding(.horizontal, 10)\n                        .padding(.vertical, 6)\n                        .background(Color.orange)\n                        .cornerRadius(10)\n                        .foregroundColor(.white)\n                        .padding()\n                        .shadow(radius: 4)\n                    }\n                }\n                \n                Spacer()\n            }\n            .padding()\n            .navigationTitle(\"JSON Escape Studio\")\n            .navigationBarTitleDisplayMode(.inline)\n            \n            // âœ… Ausgabe beim Start sofort vorbereiten\n            .onAppear {\n                outputText = escapeForJSON(inputText)\n                \n                // Fokus leicht verzÃ¶gert aktivieren\n                DispatchQueue.main.asyncAfter(deadline: .now() + 0.3) {\n                    isEditorFocused = true\n                }\n            }\n        }\n    }\n    \n    // MARK: - Aktionen\n    private func copyOutput() {\n        UIPasteboard.general.string = outputText\n        withAnimation(.spring(response: 0.35, dampingFraction: 0.7)) {\n            showCopied = true\n        }\n        DispatchQueue.main.asyncAfter(deadline: .now() + 1.4) {\n            withAnimation(.easeOut(duration: 0.35)) {\n                showCopied = false\n            }\n        }\n    }\n    \n    private func pasteInput() {\n        if let clipboard = UIPasteboard.general.string, !clipboard.isEmpty {\n            withAnimation(.spring(response: 0.35, dampingFraction: 0.7)) {\n                inputText = clipboard\n                showPasted = true\n            }\n            DispatchQueue.main.asyncAfter(deadline: .now() + 1.4) {\n                withAnimation(.easeOut(duration: 0.35)) {\n                    showPasted = false\n                }\n            }\n        }\n    }\n}\n\n// MARK: - Escape / Unescape Helpers\nfunc escapeForJSON(_ text: String) -> String {\n    text\n        .replacingOccurrences(of: \"\\\\\", with: \"\\\\\\\\\")\n        .replacingOccurrences(of: \"\\\"\", with: \"\\\\\\\"\")\n        .replacingOccurrences(of: \"\\n\", with: \"\\\\n\")\n        .replacingOccurrences(of: \"\\t\", with: \"\\\\t\")\n        .replacingOccurrences(of: \"\\r\", with: \"\")\n}\n\nfunc unescapeFromJSON(_ text: String) -> String {\n    text\n        .replacingOccurrences(of: \"\\\\n\", with: \"\\n\")\n        .replacingOccurrences(of: \"\\\\t\", with: \"\\t\")\n        .replacingOccurrences(of: \"\\\\\\\"\", with: \"\\\"\")\n        .replacingOccurrences(of: \"\\\\\\\\\", with: \"\\\\\")\n}\n\n// MARK: - Preview\n#Preview {\n    JSONEscapeStudioView()\n        .preferredColorScheme(.dark)\n}",
    "category": "JSON Tools",
    "categoryIcon": "curlybraces",
    "categoryIconColor": "#FF6D2D"
  }
]
