[
  {
    "id": "json_001",
    "title": "JSON Escapen",
    "description": "Lerne, wie du Code-Snippets sicher in JSON-Strings umwandelst (escapest), damit sie korrekt gespeichert und verarbeitet werden k√∂nnen.",
    "steps": [
      "Erstelle ein Beispiel-Code-Snippet, z. B. in Swift oder HTML.",
      "F√ºge es in das JSON Escape Studio ein.",
      "W√§hle den Modus 'Escape ‚Üí JSON', um den Code automatisch zu formatieren."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#FF6D2D", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\n\nstruct JSONEscapeStudioView: View {\n    @State private var outputText: String = \"\"\n    @State private var isUnescapeMode = false\n    @State private var showCopied = false\n    @State private var showPasted = false\n    @FocusState private var isEditorFocused: Bool\n    \n    @Environment(\\.colorScheme) private var colorScheme\n    \n    var body: some View {\n        NavigationStack {\n            VStack(spacing: 22) {\n                \n                / üîò Modus-Schalter + Einf√ºgen-Button\n                HStack(spacing: 12) {\n                    Picker(\"Modus\", selection: $isUnescapeMode) {\n                        Text(\"Escape ‚Üí JSON\").tag(false)\n                        Text(\"Unescape ‚Üí Klartext\").tag(true)\n                    }\n                    .pickerStyle(.segmented)\n                    \n                    Button {\n                        pasteInput()\n                    } label: {\n                        Label(\"Einf√ºgen\", systemImage: \"doc.on.clipboard.fill\")\n                            .font(.caption.bold())\n                            .padding(.horizontal, 10)\n                            .padding(.vertical, 6)\n                            .background(Color.blue.opacity(0.15))\n                            .cornerRadius(8)\n                    }\n                    .buttonStyle(.plain)\n                }\n                .padding(.horizontal)\n                .onChange(of: isUnescapeMode) { _, newValue in\n                    withAnimation(.easeInOut(duration: 0.25)) {\n                        outputText = newValue\n                            ? unescapeFromJSON(inputText)\n                            : escapeForJSON(inputText)\n                    }\n                }\n                \n                / üü¢ Eingabe\n                VStack(alignment: .leading, spacing: 8) {\n                    Label(isUnescapeMode ? \"Escaped JSON eingeben\" : \"Original-Code\", systemImage: \"doc.text.fill\")\n                        .font(.headline)\n                        .foregroundStyle(.blue)\n                    \n                    ZStack(alignment: .topLeading) {\n                        if inputText.isEmpty {\n                            Text(\"Hier Code einf√ºgen oder schreiben ‚Ä¶\")\n                                .foregroundColor(.secondary)\n                                .padding(.horizontal, 16)\n                                .padding(.vertical, 14)\n                                .font(.system(.body, design: .monospaced))\n                        }\n                        \n                        TextEditor(text: $inputText)\n                            .focused($isEditorFocused)\n                            .font(.system(.body, design: .monospaced))\n                            .padding(10)\n                            .scrollContentBackground(.hidden)\n                            .background(\n                                RoundedRectangle(cornerRadius: 10)\n                                    .fill(Color.gray.opacity(0.15))\n                                    .overlay(\n                                        RoundedRectangle(cornerRadius: 10)\n                                            .stroke(isEditorFocused ? Color.blue : Color.blue.opacity(0.3),\n                                                    lineWidth: isEditorFocused ? 1.8 : 1.2)\n                                    )\n                            )\n                            .frame(minHeight: 180)\n                            .onChange(of: inputText) { _, newValue in\n                                outputText = isUnescapeMode\n                                    ? unescapeFromJSON(newValue)\n                                    : escapeForJSON(newValue)\n                            }\n                            .onTapGesture { isEditorFocused = true }\n                    }\n                }\n                .animation(.easeInOut(duration: 0.25), value: isEditorFocused)\n                \n                / üîµ Ausgabe\n                VStack(alignment: .leading, spacing: 8) {\n                    HStack {\n                        Label(isUnescapeMode ? \"Klartext\" : \"Escaped JSON\",\n                              systemImage: \"chevron.left.forwardslash.chevron.right\")\n                            .font(.headline)\n                            .foregroundStyle(.orange)\n                        \n                        Spacer()\n                        \n                        Button(action: copyOutput) {\n                            Label(\"Kopieren\", systemImage: \"doc.on.doc.fill\")\n                                .font(.caption.bold())\n                                .padding(.horizontal, 10)\n                                .padding(.vertical, 6)\n                                .background(Color.orange.opacity(0.15))\n                                .cornerRadius(8)\n                        }\n                        .buttonStyle(.plain)\n                    }\n                    \n                    ScrollView {\n                        Text(outputText.isEmpty ? \"/ Ausgabe erscheint hier ‚Ä¶\" : outputText)\n                            .font(.system(.body, design: .monospaced))\n                            .foregroundColor(.white)\n                            .padding(12)\n                            .frame(maxWidth: .infinity, alignment: .leading)\n                            .background(\n                                LinearGradient(\n                                    colors: [Color.black, Color(hex: \"#1C1C1E\")],\n                                    startPoint: .topLeading,\n                                    endPoint: .bottomTrailing\n                                )\n                            )\n                            .cornerRadius(12)\n                            .shadow(color: .black.opacity(0.4), radius: 6, y: 3)\n                    }\n                    .frame(minHeight: 200)\n                    .overlay(alignment: .topTrailing) {\n                        VStack(alignment: .trailing, spacing: 4) {\n                            if showCopied {\n                                Label(\"Kopiert!\", systemImage: \"checkmark.circle.fill\")\n                                    .transition(.scale.combined(with: .opacity))\n                            }\n                            if showPasted {\n                                Label(\"Eingef√ºgt!\", systemImage: \"arrow.down.doc.fill\")\n                                    .transition(.scale.combined(with: .opacity))\n                            }\n                        }\n                        .font(.caption.bold())\n                        .padding(.horizontal, 10)\n                        .padding(.vertical, 6)\n                        .background(Color.orange)\n                        .cornerRadius(10)\n                        .foregroundColor(.white)\n                        .padding()\n                        .shadow(radius: 4)\n                    }\n                }\n                \n                Spacer()\n            }\n            .padding()\n            .navigationTitle(\"JSON Escape Studio\")\n            .navigationBarTitleDisplayMode(.inline)\n            \n            / ‚úÖ Ausgabe beim Start sofort vorbereiten\n            .onAppear {\n                outputText = escapeForJSON(inputText)\n                \n                / Fokus leicht verz√∂gert aktivieren\n                DispatchQueue.main.asyncAfter(deadline: .now() + 0.3) {\n                    isEditorFocused = true\n                }\n            }\n        }\n    }\n    \n    / MARK: - Aktionen\n    private func copyOutput() {\n        UIPasteboard.general.string = outputText\n        withAnimation(.spring(response: 0.35, dampingFraction: 0.7)) {\n            showCopied = true\n        }\n        DispatchQueue.main.asyncAfter(deadline: .now() + 1.4) {\n            withAnimation(.easeOut(duration: 0.35)) {\n                showCopied = false\n            }\n        }\n    }\n    \n    private func pasteInput() {\n        if let clipboard = UIPasteboard.general.string, !clipboard.isEmpty {\n            withAnimation(.spring(response: 0.35, dampingFraction: 0.7)) {\n                inputText = clipboard\n                showPasted = true\n            }\n            DispatchQueue.main.asyncAfter(deadline: .now() + 1.4) {\n                withAnimation(.easeOut(duration: 0.35)) {\n                    showPasted = false\n                }\n            }\n        }\n    }\n}\n\n/ MARK: - Escape / Unescape Helpers\nfunc escapeForJSON(_ text: String) -> String {\n    text\n        .replacingOccurrences(of: \"\\\\\", with: \"\\\\\\\\\")\n        .replacingOccurrences(of: \"\\\"\", with: \"\\\\\\\"\")\n        .replacingOccurrences(of: \"\\n\", with: \"\\\\n\")\n        .replacingOccurrences(of: \"\\t\", with: \"\\\\t\")\n        .replacingOccurrences(of: \"\\r\", with: \"\")\n}\n\nfunc unescapeFromJSON(_ text: String) -> String {\n    text\n        .replacingOccurrences(of: \"\\\\n\", with: \"\\n\")\n        .replacingOccurrences(of: \"\\\\t\", with: \"\\t\")\n        .replacingOccurrences(of: \"\\\\\\\"\", with: \"\\\"\")\n        .replacingOccurrences(of: \"\\\\\\\\\", with: \"\\\\\")\n}\n\n/ MARK: - Preview\n#Preview {\n    JSONEscapeStudioView()\n        .preferredColorScheme(.dark)\n}",
    "category": "JSON Tools",
    "categoryIcon": "curlybraces",
    "categoryIconColor": "#FF6D2D"
  },
  {
    "id": "json_002",
    "title": "JSON Validierung",
    "description": "Pr√ºfe, ob ein JSON-String syntaktisch g√ºltig ist ‚Äì ideal, um Fehler im Code zu finden.",
    "steps": [
      "JSON als Text eingeben.",
      "Mit JSONSerialization versuchen zu decodieren.",
      "Bei Erfolg: g√ºltig. Bei Fehler: Fehlermeldung anzeigen."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#3A86FF", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import Foundation\n\nfunc validateJSON(_ text: String) -> String {\n    guard let data = text.data(using: .utf8) else {\n        return \"‚ùå Ung√ºltige UTF-8 Daten\"\n    }\n    do {\n        _ = try JSONSerialization.jsonObject(with: data)\n        return \"‚úÖ JSON ist g√ºltig\"\n    } catch {\n        return \"‚ùå JSON Fehler: \\(error.localizedDescription)\"\n    }\n}\n\n/ Beispiel:\n/ print(validateJSON(\"{ \\\"name\\\": \\\"Tufan\\\" }\"))",
    "category": "JSON Tools",
    "categoryIcon": "curlybraces",
    "categoryIconColor": "#3A86FF"
  },
  {
    "id": "json_003",
    "title": "JSON Pretty Print",
    "description": "Formatiere kompaktes JSON automatisch lesbar ‚Äì ideal f√ºr Debugging.",
    "steps": [
      "JSON-String einf√ºgen.",
      "Mit JSONSerialization parsen.",
      "Mit .prettyPrinted zur√ºck in formatierten Text umwandeln."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#8338EC", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import Foundation\n\nfunc prettyPrintJSON(_ text: String) -> String {\n    guard let data = text.data(using: .utf8) else { return \"‚ùå Fehler: ung√ºltige Daten\" }\n    do {\n        let object = try JSONSerialization.jsonObject(with: data)\n        let prettyData = try JSONSerialization.data(withJSONObject: object, options: .prettyPrinted)\n        return String(decoding: prettyData, as: UTF8.self)\n    } catch {\n        return \"‚ùå Fehler: \\(error.localizedDescription)\"\n    }\n}\n\n/ Beispiel:\n/ prettyPrintJSON(\"{\\\"a\\\":1,\\\"b\\\":2}\")",
    "category": "JSON Tools",
    "categoryIcon": "curlybraces",
    "categoryIconColor": "#8338EC"
  },
  {
    "id": "json_004",
    "title": "JSON ‚Üí Swift Struct Generator",
    "description": "Konvertiere JSON automatisch in Swift Struct-Code ‚Äì perfekt f√ºr API-Modelle.",
    "steps": [
      "F√ºge ein JSON-Objekt ein.",
      "Erkenne automatisch Keys & Typen.",
      "Erzeuge daraus ein Codable Swift Struct."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#7209B7", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import Foundation\n\nfunc jsonToSwiftStruct(_ text: String, structName: String = \"Model\") -> String {\n    guard let data = text.data(using: .utf8),\n          let json = try? JSONSerialization.jsonObject(with: data) as? [String: Any] else {\n        return \"‚ùå Ung√ºltiges JSON\"\n    }\n\n    var lines: [String] = []\n    lines.append(\"struct \\(structName): Codable {\")\n\n    for (key, value) in json {\n        let type: String\n        switch value {\n        case is String: type = \"String\"\n        case is Int: type = \"Int\"\n        case is Double: type = \"Double\"\n        case is Bool: type = \"Bool\"\n        case is [Any]: type = \"[Any]\"\n        case is [String: Any]: type = \"[String: Any]\"\n        default: type = \"String\"\n        }\n        lines.append(\"    let \\(key): \\(type)\")\n    }\n\n    lines.append(\"}\")\n    return lines.joined(separator: \"\\n\")\n}\n\n/ Beispiel:\n/ print(jsonToSwiftStruct(\"{ \\\"name\\\": \\\"Tufan\\\", \\\"level\\\": 12 }\", structName: \"Player\"))",
    "category": "JSON Tools",
    "categoryIcon": "curlybraces",
    "categoryIconColor": "#7209B7"
  },
  {
    "id": "json_005",
    "title": "Swift Struct ‚Üí JSON Template",
    "description": "Nimm eine Swift Struct Definition und erzeuge ein JSON-Ger√ºst als Vorlage.",
    "steps": [
      "Struct-Code einf√ºgen.",
      "Regex extrahiert Property-Namen.",
      "Erstelle automatisch ein JSON-Ger√ºst."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#4895EF", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import Foundation\n\nfunc structToJSONTemplate(_ text: String) -> String {\n    let lines = text.split(separator: \"\\n\")\n    var json: [String: Any] = [:]\n\n    for line in lines {\n        if line.contains(\"let \") || line.contains(\"var \") {\n            let parts = line.trimmingCharacters(in: .whitespaces).split(separator: \" \")\n            if parts.count >= 2 {\n                let name = parts[1]\n                json[String(name)] = \"<value>\"\n            }\n        }\n    }\n\n    if let data = try? JSONSerialization.data(withJSONObject: json, options: .prettyPrinted) {\n        return String(decoding: data, as: UTF8.self)\n    }\n    return \"{}\"\n}\n\n/ Beispiel:\n/ struct Player { let name: String; let level: Int }\n/ ‚Üí { \"name\": \"<value>\", \"level\": \"<value>\" }",
    "category": "JSON Tools",
    "categoryIcon": "curlybraces",
    "categoryIconColor": "#4895EF"
  },
  {
    "id": "json_006",
    "title": "JSON Diff Tool",
    "description": "Vergleiche zwei JSON-Dokumente und zeige Unterschiede ‚Äì perfekt f√ºr API-√Ñnderungen.",
    "steps": [
      "JSON A und JSON B eingeben.",
      "Beide Dokumente als Dictionary parsen.",
      "Unterschiedliche Schl√ºssel oder Werte ausgeben."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#4CC9F0", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import Foundation\n\nfunc jsonDiff(a: String, b: String) -> [String] {\n    func decode(_ text: String) -> [String: Any]? {\n        guard let data = text.data(using: .utf8) else { return nil }\n        return try? JSONSerialization.jsonObject(with: data) as? [String: Any]\n    }\n\n    guard let aJSON = decode(a), let bJSON = decode(b) else {\n        return [\"‚ùå JSON ung√ºltig\"]\n    }\n\n    var diffs: [String] = []\n\n    for key in Set(aJSON.keys).union(bJSON.keys) {\n        let av = aJSON[key]\n        let bv = bJSON[key]\n        if String(describing: av) != String(describing: bv) {\n            diffs.append(\"üîç Unterschied bei \\(key): A=\\(String(describing: av)), B=\\(String(describing: bv))\")\n        }\n    }\n\n    return diffs.isEmpty ? [\"‚úÖ Keine Unterschiede\"] : diffs\n}\n\n/ Beispiel:\n/ jsonDiff(a: \"{\\\"name\\\":\\\"A\\\"}\", b: \"{\\\"name\\\":\\\"B\\\"}\")",
    "category": "JSON Tools",
    "categoryIcon": "curlybraces",
    "categoryIconColor": "#4CC9F0"
  }
]
