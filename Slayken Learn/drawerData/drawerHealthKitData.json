[
  {
    "id": "healthkit_001",
    "title": "Schrittz√§hler mit HealthKit",
    "description": "Lerne, wie du mit HealthKit auf Gesundheitsdaten zugreifst ‚Äì z. B. um Schritte auszulesen.",
    "steps": [
      "Importiere HealthKit und erstelle eine HKHealthStore-Instanz.",
      "Fordere Berechtigungen f√ºr Schrittz√§hlerdaten an.",
      "Lese die Schrittanzahl √ºber eine HKStatisticsQuery aus."
    ],
    "colors": {
      "backgroundColors": [
        "#000000",
        "#06D6A0",
        "#000000"
      ],
      "textColors": [
        "#FFFFFF"
      ]
    },
    "code": "import HealthKit\n\nclass HealthKitManager: ObservableObject {\n    private let healthStore = HKHealthStore()\n    @Published var steps: Double = 0\n\n    init() {\n        requestAuthorization()\n    }\n\n    / Berechtigungen anfragen\n    func requestAuthorization() {\n        guard HKHealthStore.isHealthDataAvailable() else {\n            print(\"‚ùå HealthKit nicht verf√ºgbar\")\n            return\n        }\n\n        guard let stepType = HKQuantityType.quantityType(forIdentifier: .stepCount) else { return }\n\n        healthStore.requestAuthorization(toShare: [], read: [stepType]) { success, error in\n            if success {\n                print(\"‚úÖ HealthKit Zugriff gew√§hrt\")\n                self.fetchSteps()\n            } else if let error = error {\n                print(\"‚ùå Zugriff verweigert: \\(error.localizedDescription)\")\n            }\n        }\n    }\n\n    / Schrittanzahl abrufen\n    func fetchSteps() {\n        guard let stepType = HKQuantityType.quantityType(forIdentifier: .stepCount) else { return }\n\n        let startOfDay = Calendar.current.startOfDay(for: Date())\n        let predicate = HKQuery.predicateForSamples(withStart: startOfDay, end: Date(), options: .strictStartDate)\n\n        let query = HKStatisticsQuery(quantityType: stepType, quantitySamplePredicate: predicate, options: .cumulativeSum) { _, result, _ in\n            guard let result = result, let sum = result.sumQuantity() else { return }\n            DispatchQueue.main.async {\n                self.steps = sum.doubleValue(for: HKUnit.count())\n                print(\"üö∂ Schritte heute: \\(Int(self.steps))\")\n            }\n        }\n\n        healthStore.execute(query)\n    }\n}\n\n/ Beispiel: @StateObject var hkManager = HealthKitManager()",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#06D6A0"
  },
  {
    "id": "healthkit_002",
    "title": "Kalorienverbrauch auslesen (Active Energy)",
    "description": "Lies den t√§glichen Kalorienverbrauch aus und zeige ihn in deiner App an.",
    "steps": [
      "Erstelle einen HKHealthStore.",
      "Fordere Berechtigung f√ºr activeEnergyBurned an.",
      "Nutze HKStatisticsQuery, um den Tageswert zu summieren."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#EF476F", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass EnergyManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var calories = 0.0\n\n    init() { requestAccess() }\n\n    func requestAccess() {\n        guard let energyType = HKQuantityType.quantityType(forIdentifier: .activeEnergyBurned) else { return }\n        store.requestAuthorization(toShare: [], read: [energyType]) { success, _ in\n            if success { self.loadEnergy() }\n        }\n    }\n\n    func loadEnergy() {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .activeEnergyBurned) else { return }\n        let start = Calendar.current.startOfDay(for: .now)\n        let predicate = HKQuery.predicateForSamples(withStart: start, end: .now)\n\n        let query = HKStatisticsQuery(quantityType: type, quantitySamplePredicate: predicate, options: .cumulativeSum) { _, result, _ in\n            if let q = result?.sumQuantity() {\n                DispatchQueue.main.async { self.calories = q.doubleValue(for: .kilocalorie()) }\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#EF476F"
  },
  {
    "id": "healthkit_003",
    "title": "Herzfrequenz (Pulse) auslesen",
    "description": "Greife auf Herzfrequenzdaten zu ‚Äì perfekt f√ºr Fitness-Apps.",
    "steps": [
      "Fordere Berechtigung f√ºr heartRate an.",
      "Nutze HKSampleQuery f√ºr die letzten Messwerte.",
      "Berechne Durchschnitt oder zeige letzte Werte."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#FFD166", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass HeartRateManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var bpm: Double = 0\n\n    init() { requestAccess() }\n\n    func requestAccess() {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .heartRate) else { return }\n        store.requestAuthorization(toShare: [], read: [type]) { success, _ in\n            if success { self.fetchLatest() }\n        }\n    }\n\n    func fetchLatest() {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .heartRate) else { return }\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let sample = samples?.first as? HKQuantitySample {\n                let value = sample.quantity.doubleValue(for: .init(from: \"count/min\"))\n                DispatchQueue.main.async { self.bpm = value }\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#FFD166"
  },
  {
    "id": "healthkit_004",
    "title": "Schlafanalyse auslesen",
    "description": "Lies die Schlafdaten eines Nutzers aus ‚Äì Light, Deep & Core Sleep.",
    "steps": [
      "Fordere Berechtigung f√ºr sleepAnalysis an.",
      "Nutze HKSampleQuery f√ºr Datens√§tze.",
      "Analysiere inBed und asleep Werte."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#118AB2", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass SleepManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var sleepHours: Double = 0\n\n    func requestAccess() {\n        guard let sleepType = HKCategoryType.categoryType(forIdentifier: .sleepAnalysis) else { return }\n        store.requestAuthorization(toShare: [], read: [sleepType]) { success, _ in\n            if success { self.loadSleep() }\n        }\n    }\n\n    func loadSleep() {\n        guard let type = HKCategoryType.categoryType(forIdentifier: .sleepAnalysis) else { return }\n        let start = Calendar.current.date(byAdding: .day, value: -1, to: Date())!\n        let predicate = HKQuery.predicateForSamples(withStart: start, end: Date())\n\n        let query = HKSampleQuery(sampleType: type, predicate: predicate, limit: 20, sortDescriptors: nil) { _, samples, _ in\n            let total = samples?.compactMap { sample -> Double? in\n                guard let s = sample as? HKCategorySample else { return nil }\n                return s.endDate.timeIntervalSince(s.startDate) / 3600\n            }.reduce(0, +)\n\n            DispatchQueue.main.async { self.sleepHours = total ?? 0 }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#118AB2"
  },
  {
    "id": "healthkit_005",
    "title": "Gewicht & K√∂rpergr√∂√üe (Body Metrics)",
    "description": "Zeige Benutzergewicht und K√∂rpergr√∂√üe aus HealthKit an.",
    "steps": [
      "Lade bodyMass und height.",
      "Nutze HKSampleQuery f√ºr die letzten Werte.",
      "Konvertiere Einheiten (kg, cm)."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#073B4C", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass BodyMetricsManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var weight: Double = 0\n    @Published var height: Double = 0\n\n    func requestAccess() {\n        guard\n            let weightType = HKQuantityType.quantityType(forIdentifier: .bodyMass),\n            let heightType = HKQuantityType.quantityType(forIdentifier: .height)\n        else { return }\n\n        store.requestAuthorization(toShare: [], read: [weightType, heightType]) { success, _ in\n            if success {\n                self.loadWeight()\n                self.loadHeight()\n            }\n        }\n    }\n\n    func loadWeight() {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .bodyMass) else { return }\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let sample = samples?.first as? HKQuantitySample {\n                let value = sample.quantity.doubleValue(for: .gramUnit(with: .kilo))\n                DispatchQueue.main.async { self.weight = value }\n            }\n        }\n        store.execute(query)\n    }\n\n    func loadHeight() {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .height) else { return }\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let sample = samples?.first as? HKQuantitySample {\n                let cm = sample.quantity.doubleValue(for: .meter()) * 100\n                DispatchQueue.main.async { self.height = cm }\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#073B4C"
  },
  {
    "id": "healthkit_006",
    "title": "Blutdruck auslesen (Systole & Diastole)",
    "description": "Erhalte den Blutdruck (mmHg) des Nutzers ‚Äì falls vorhanden.",
    "steps": [
      "Fordere Berechtigung f√ºr bloodPressureSystolic & Diastolic.",
      "Nutze HKCorrelationQuery.",
      "Extrahiere Einzelwerte aus der Korrelation."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#EF476F", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass BloodPressureManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var systolic = 0.0\n    @Published var diastolic = 0.0\n\n    func requestAccess() {\n        guard let sys = HKQuantityType.quantityType(forIdentifier: .bloodPressureSystolic),\n              let dia = HKQuantityType.quantityType(forIdentifier: .bloodPressureDiastolic) else { return }\n\n        store.requestAuthorization(toShare: [], read: [sys, dia]) { success, _ in\n            if success { self.fetchBP() }\n        }\n    }\n\n    func fetchBP() {\n        guard let type = HKObjectType.correlationType(forIdentifier: .bloodPressure) else { return }\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let correlation = samples?.first as? HKCorrelation {\n                if let sys = correlation.objects(for: HKObjectType.quantityType(forIdentifier: .bloodPressureSystolic)!).first as? HKQuantitySample {\n                    self.systolic = sys.quantity.doubleValue(for: .millimeterOfMercury())\n                }\n                if let dia = correlation.objects(for: HKObjectType.quantityType(forIdentifier: .bloodPressureDiastolic)!).first as? HKQuantitySample {\n                    self.diastolic = dia.quantity.doubleValue(for: .millimeterOfMercury())\n                }\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#EF476F"
  },
  {
    "id": "healthkit_007",
    "title": "Workouts abrufen (Trainingseinheiten)",
    "description": "Lies Trainingsdaten wie Dauer, Energieverbrauch und Art des Workouts.",
    "steps": [
      "Nutze HKWorkoutType.",
      "Verwende HKSampleQuery.",
      "Analysiere burned energy & distance."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#FFD166", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass WorkoutManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var workouts: [HKWorkout] = []\n\n    func requestAccess() {\n        store.requestAuthorization(toShare: [], read: [HKObjectType.workoutType()]) { s, _ in\n            if s { self.load() }\n        }\n    }\n\n    func load() {\n        let type = HKObjectType.workoutType()\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 20, sortDescriptors: nil) { _, samples, _ in\n            DispatchQueue.main.async {\n                self.workouts = samples as? [HKWorkout] ?? []\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#FFD166"
  },
  {
    "id": "healthkit_008",
    "title": "Wasseraufnahme (Water Intake) speichern & lesen",
    "description": "Speichere getrunkene Wassermengen und lese sie sp√§ter wieder aus.",
    "steps": [
      "Nutze dietaryWater als QuantityType.",
      "Schreibe HKQuantitySamples.",
      "Lese Tagesverbrauch aus."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#118AB2", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass WaterManager: ObservableObject {\n    private let store = HKHealthStore()\n\n    func requestAccess() {\n        guard let water = HKQuantityType.quantityType(forIdentifier: .dietaryWater) else { return }\n        store.requestAuthorization(toShare: [water], read: [water]) { _, _ in }\n    }\n\n    func addWater(_ ml: Double) {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .dietaryWater) else { return }\n        let quantity = HKQuantity(unit: .literUnit(with: .milli), doubleValue: ml)\n        let sample = HKQuantitySample(type: type, quantity: quantity, start: .now, end: .now)\n        store.save(sample) { _,_ in }\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#118AB2"
  },
  {
    "id": "healthkit_009",
    "title": "Blutzucker (Blood Glucose) auslesen",
    "description": "Ideal f√ºr Gesundheits-Apps ‚Äì lies Glukosewerte in mg/dL.",
    "steps": [
      "Fordere bloodGlucose-Zugriff an.",
      "Nutze HKSampleQuery.",
      "Zeige letzten Messwert an."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#06D6A0", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass GlucoseManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var glucose: Double = 0\n\n    func requestAccess() {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .bloodGlucose) else { return }\n        store.requestAuthorization(toShare: [], read: [type]) { s,_ in if s { self.load() } }\n    }\n\n    func load() {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .bloodGlucose) else { return }\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let sample = samples?.first as? HKQuantitySample {\n                let value = sample.quantity.doubleValue(for: HKUnit(from: \"mg/dL\"))\n                DispatchQueue.main.async { self.glucose = value }\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#06D6A0"
  },
  {
    "id": "healthkit_010",
    "title": "Atmung (Respiratory Rate) auslesen",
    "description": "Lies die Atemfrequenz in Atemz√ºgen pro Minute aus.",
    "steps": [
      "Fordere Authorization f√ºr respiratoryRate an.",
      "Nutze HKSampleQuery.",
      "Zeige letzten Wert an."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#7209B7", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code":
      "import HealthKit\n\nclass RespirationManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var rate: Double = 0\n\n    func requestAccess() {\n        let type = HKQuantityType.quantityType(forIdentifier: .respiratoryRate)!\n        store.requestAuthorization(toShare: [], read: [type]) { s,_ in if s { self.load() } }\n    }\n\n    func load() {\n        let type = HKQuantityType.quantityType(forIdentifier: .respiratoryRate)!\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n        let q = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let sample = samples?.first as? HKQuantitySample {\n                let v = sample.quantity.doubleValue(for: .init(from: \"count/min\"))\n                DispatchQueue.main.async { self.rate = v }\n            }\n        }\n        store.execute(q)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#7209B7"
  },
  {
    "id": "healthkit_011",
    "title": "Live Gesundheitsdaten abonnieren (ObserverQuery)",
    "description": "Erhalte automatische Updates von HealthKit-Daten, ohne manuell abzufragen ‚Äì perfekt f√ºr Live-Tracking.",
    "steps": [
      "Erstelle HKObserverQuery f√ºr ein HealthKit-Item.",
      "Reagiere auf √Ñnderungen √ºber den Handler.",
      "Starte anschlie√üend eine normale Fetch-Query."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#06D6A0", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import HealthKit\n\nclass LiveStepObserver: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var steps: Double = 0\n\n    func start() {\n        guard let type = HKObjectType.quantityType(forIdentifier: .stepCount) else { return }\n\n        let observer = HKObserverQuery(sampleType: type, predicate: nil) { _, _, _ in\n            self.fetchSteps()\n        }\n\n        store.execute(observer)\n        fetchSteps()\n    }\n\n    private func fetchSteps() {\n        guard let stepType = HKQuantityType.quantityType(forIdentifier: .stepCount) else { return }\n        let start = Calendar.current.startOfDay(for: .now)\n        let predicate = HKQuery.predicateForSamples(withStart: start, end: .now)\n\n        let query = HKStatisticsQuery(quantityType: stepType, quantitySamplePredicate: predicate, options: .cumulativeSum) { _, result, _ in\n            if let q = result?.sumQuantity() {\n                DispatchQueue.main.async { self.steps = q.doubleValue(for: .count()) }\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#06D6A0"
  },
  {
    "id": "healthkit_012",
    "title": "Ruhepuls & VO‚ÇÇmax auslesen",
    "description": "Greife auf wichtige Fitnessmetriken wie Resting Heart Rate und VO‚ÇÇmax zu.",
    "steps": [
      "Fordere Berechtigungen f√ºr restingHeartRate & vo2Max an.",
      "Nutze HKSampleQuery.",
      "Gib die neuesten Werte aus."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#EF476F", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import HealthKit\n\nclass FitnessCoreManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var restingBPM: Double = 0\n    @Published var vo2Max: Double = 0\n\n    func request() {\n        guard let rest = HKQuantityType.quantityType(forIdentifier: .restingHeartRate),\n              let vo2 = HKQuantityType.quantityType(forIdentifier: .vo2Max) else { return }\n\n        store.requestAuthorization(toShare: [], read: [rest, vo2]) { s,_ in\n            if s { self.loadResting(); self.loadVO2() }\n        }\n    }\n\n    private func loadResting() {\n        let type = HKQuantityType.quantityType(forIdentifier: .restingHeartRate)!\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let value = (samples?.first as? HKQuantitySample)?.quantity.doubleValue(for: .init(from: \"count/min\")) {\n                DispatchQueue.main.async { self.restingBPM = value }\n            }\n        }\n        store.execute(query)\n    }\n\n    private func loadVO2() {\n        let type = HKQuantityType.quantityType(forIdentifier: .vo2Max)!\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let value = (samples?.first as? HKQuantitySample)?.quantity.doubleValue(for: .init(from: \"ml/kg*min\")) {\n                DispatchQueue.main.async { self.vo2Max = value }\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#EF476F"
  },
  {
    "id": "healthkit_013",
    "title": "7-Tage Trend berechnen (Durchschnittswerte)",
    "description": "Berechne Wochenstatistiken f√ºr Schritte, Schlaf oder Kalorien.",
    "steps": [
      "Erstelle ein Datum f√ºr den Zeitraum (7 Tage).",
      "Nutze HKStatisticsQuery mit cumulativeSum.",
      "Berechne Durchschnitt pro Tag."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#FFD166", "#000000"],
        "textColors": ["#FFFFFF"]
    },
    "code": "import HealthKit\n\nclass WeeklyStepsManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var dailyAverage: Double = 0\n\n    func request() {\n        guard let steps = HKQuantityType.quantityType(forIdentifier: .stepCount) else { return }\n        store.requestAuthorization(toShare: [], read: [steps]) { s,_ in if s { self.load() } }\n    }\n\n    func load() {\n        guard let type = HKQuantityType.quantityType(forIdentifier: .stepCount) else { return }\n        let start = Calendar.current.date(byAdding: .day, value: -7, to: .now)!\n        let predicate = HKQuery.predicateForSamples(withStart: start, end: .now)\n\n        let q = HKStatisticsQuery(quantityType: type, quantitySamplePredicate: predicate, options: .cumulativeSum) { _, result, _ in\n            if let sum = result?.sumQuantity()?.doubleValue(for: .count()) {\n                DispatchQueue.main.async { self.dailyAverage = sum / 7 }\n            }\n        }\n        store.execute(q)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#FFD166"
  },
  {
    "id": "healthkit_014",
    "title": "EKG Daten auslesen (Electrocardiogram)",
    "description": "Lies EKG-Daten eines Nutzers aus ‚Äì z. B. Herzrhythmusklassifikation.",
    "steps": [
      "Fordere Zugriff auf electrocardiogramType an.",
      "Nutze HKSampleQuery.",
      "Lies classification und Symptomdaten."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#118AB2", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import HealthKit\n\nclass ECGManager: ObservableObject {\n    private let store = HKHealthStore()\n    @Published var classification: HKElectrocardiogram.Classification = .notSet\n\n    func request() {\n        let type = HKObjectType.electrocardiogramType()\n        store.requestAuthorization(toShare: [], read: [type]) { s,_ in if s { self.load() } }\n    }\n\n    func load() {\n        let type = HKObjectType.electrocardiogramType()\n        let sort = NSSortDescriptor(key: HKSampleSortIdentifierEndDate, ascending: false)\n\n        let query = HKSampleQuery(sampleType: type, predicate: nil, limit: 1, sortDescriptors: [sort]) { _, samples, _ in\n            if let ecg = samples?.first as? HKElectrocardiogram {\n                DispatchQueue.main.async { self.classification = ecg.classification }\n            }\n        }\n        store.execute(query)\n    }\n}",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#118AB2"
  },
  {
    "id": "healthkit_015",
    "title": "HealthKit Daten als Diagramm anzeigen (Swift Charts)",
    "description": "Zeige Schritte, Herzfrequenz oder Energieverbrauch in einer sch√∂nen SwiftUI-Chart an.",
    "steps": [
      "Daten √ºber HealthKit laden.",
      "In ein ChartData-Modell umwandeln.",
      "Mit Swift Charts rendern."
    ],
    "colors": {
      "backgroundColors": ["#000000", "#7209B7", "#000000"],
      "textColors": ["#FFFFFF"]
    },
    "code": "import SwiftUI\nimport Charts\n\nstruct StepsChartView: View {\n    let data: [Double]\n\n    var body: some View {\n        Chart {\n            ForEach(Array(data.enumerated()), id: \\.offset) { index, value in\n                LineMark(\n                    x: .value(\"Tag\", index),\n                    y: .value(\"Schritte\", value)\n                )\n            }\n        }\n        .frame(height: 250)\n        .padding()\n    }\n}\n",
    "category": "HealthKit",
    "categoryIcon": "heart.fill",
    "categoryIconColor": "#7209B7"
  }
]
